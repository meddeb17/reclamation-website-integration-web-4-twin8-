<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tableau de bord - Esprit</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
    </style>
  </head>
  <body class="bg-white text-gray-800">
    <div class="flex h-screen overflow-hidden">
      <!-- Mobile Overlay -->
      <div
        id="mobile-overlay"
        class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"
      ></div>

      <!-- Sidebar -->
      <aside
        id="sidebar"
        class="fixed inset-y-0 left-0 z-50 w-64 bg-[#D2232A] text-white transform -translate-x-full transition-transform duration-300 ease-in-out md:relative md:translate-x-0 md:flex flex-col"
      >
        <!-- Logo Area -->
        <div class="h-20 flex items-center px-6">
          <img
            src="../assets/images/esprit.png"
            alt="Esprit Logo"
            class="h-10 brightness-0 invert object-contain"
          />
        </div>

        <!-- Navigation -->
        <nav class="flex-1 px-4 space-y-2 mt-4">
          <a
            href="#"
            class="flex items-center px-4 py-3 bg-white text-[#D2232A] rounded-lg shadow-sm group transition-all duration-200"
          >
            <svg
              class="w-5 h-5 mr-3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"
              ></path>
            </svg>
            <span class="font-semibold">Tableau de bord</span>
          </a>

          <a
            href="./AddreclamationDashboard.html"
            class="flex items-center px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-all duration-200"
          >
            <svg
              class="w-5 h-5 mr-3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              ></path>
            </svg>
            <span class="font-medium">Liste des réclamations</span>
          </a>

          <a
            href="./AddreclamationDashboard.html"
            class="flex items-center px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-all duration-200"
          >
            <svg
              class="w-5 h-5 mr-3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
              ></path>
            </svg>
            <span class="font-medium">Historique</span>
          </a>
        </nav>
      </aside>

      <!-- Main Content Wrapper -->
      <div class="flex-1 flex flex-col min-w-0 bg-white">
        <!-- Header -->
        <header
          class="h-20 border-b border-gray-100 flex items-center justify-between px-8 bg-white"
        >
          <div class="flex items-center">
            <!-- Mobile Menu Button -->
            <!-- Mobile Menu Button -->
            <button
              id="mobile-menu-btn"
              class="md:hidden mr-4 text-gray-500 hover:text-[#D2232A]"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path>
              </svg>
            </button>

            <div class="flex items-center text-gray-500">
              <svg
                class="w-5 h-5 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"
                ></path>
              </svg>
              <span class="text-lg font-medium text-gray-700"
                >Tableau de bord</span
              >
            </div>
          </div>

          <div class="flex items-center space-x-6">
            <a
              href="./AddreclamationDashboard.html"
              class="hidden sm:flex items-center px-4 py-2 bg-[#D2232A] text-white rounded-lg hover:bg-[#b01e24] transition-colors font-medium text-sm shadow-sm"
            >
              <svg
                class="w-4 h-4 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 4v16m8-8H4"
                ></path>
              </svg>
              Nouvelle réclamation
            </a>
            <button
              class="text-[#D2232A] hover:text-[#a01b20] transition-colors relative"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
                ></path>
              </svg>
              <span
                class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"
              ></span>
            </button>

            <button
              class="text-[#D2232A] hover:text-[#a01b20] transition-colors"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
            </button>

            <a
              href="./ProfileDetails.html"
              class="h-10 w-10 rounded bg-gray-200 flex items-center justify-center text-sm font-bold text-gray-600 hover:bg-gray-300 transition-colors"
            >
              WJ
            </a>
          </div>
        </header>

        <!-- Main Scrollable Area -->
        <main class="flex-1 overflow-y-auto p-8">
          <!-- Stats Cards -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <!-- Card 1 -->
            <div
              class="bg-[#F1F5F9] rounded-xl p-8 flex flex-col items-center justify-center shadow-sm hover:shadow-md transition-shadow"
            >
              <span class="text-5xl font-bold text-[#D2232A]">30</span>
              <span class="text-gray-900 font-semibold mt-3 text-lg"
                >En attente</span
              >
            </div>
            <!-- Card 2 -->
            <div
              class="bg-[#F1F5F9] rounded-xl p-8 flex flex-col items-center justify-center shadow-sm hover:shadow-md transition-shadow"
            >
              <span class="text-5xl font-bold text-[#D2232A]">90</span>
              <span class="text-gray-900 font-semibold mt-3 text-lg"
                >En cours</span
              >
            </div>
            <!-- Card 3 -->
            <div
              class="bg-[#F1F5F9] rounded-xl p-8 flex flex-col items-center justify-center shadow-sm hover:shadow-md transition-shadow"
            >
              <span class="text-5xl font-bold text-[#D2232A]">200</span>
              <span class="text-gray-900 font-semibold mt-3 text-lg"
                >Résolue</span
              >
            </div>
          </div>

          <!-- Chart Section -->
          <div class="bg-white border border-gray-200 rounded-xl p-8 shadow-sm">
            <!-- Custom Legend -->
            <div class="flex items-center justify-center space-x-8 mb-8">
              <div class="flex items-center">
                <span class="w-3 h-3 rounded-full bg-[#D2232A] mr-2"></span>
                <span class="text-gray-700 font-semibold text-sm">Résolue</span>
              </div>
              <div class="flex items-center">
                <span class="w-3 h-3 rounded-full bg-[#1e3a8a] mr-2"></span>
                <span class="text-gray-700 font-semibold text-sm"
                  >En attente</span
                >
              </div>
            </div>

            <!-- Chart Container -->
            <div class="relative h-96 w-full">
              <canvas id="complaintsChart"></canvas>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script>
      const ctx = document.getElementById("complaintsChart").getContext("2d");

      const labels = ["4/18", "4/19", "4/20", "4/21", "4/22", "4/23", "4/24"];
      const dataResolue = [150, 110, 260, 130, 190, 120, 275];
      const dataEnAttente = [60, 10, 15, 0, 30, 40, 20];

      new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [
            {
              label: "Résolue",
              data: dataResolue,
              backgroundColor: "#D2232A",
              barThickness: 40,
              borderRadius: 2,
            },
            {
              label: "En attente",
              data: dataEnAttente,
              backgroundColor: "#1e3a8a",
              barThickness: 40,
              borderRadius: 2,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              stacked: true,
              grid: {
                display: false,
              },
              ticks: {
                color: "#6B7280",
                font: {
                  size: 12,
                },
              },
            },
            y: {
              stacked: true,
              beginAtZero: true,
              max: 300,
              grid: {
                color: "#F3F4F6",
              },
              ticks: {
                stepSize: 50,
                color: "#9CA3AF",
                font: {
                  size: 12,
                },
              },
              border: {
                display: false,
              },
            },
          },
          plugins: {
            legend: {
              display: false,
            },
            tooltip: {
              backgroundColor: "rgba(0, 0, 0, 0.8)",
              titleFont: { family: "Inter", size: 13 },
              bodyFont: { family: "Inter", size: 13 },
              padding: 10,
              cornerRadius: 4,
              displayColors: false,
            },
          },
        },
      });
    </script>
    <script>
      // Mobile Sidebar Toggle Logic
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const sidebar = document.getElementById("sidebar");
      const mobileOverlay = document.getElementById("mobile-overlay");

      function toggleSidebar() {
        sidebar.classList.toggle("-translate-x-full");
        mobileOverlay.classList.toggle("hidden");
      }

      mobileMenuBtn.addEventListener("click", toggleSidebar);
      mobileOverlay.addEventListener("click", toggleSidebar);
    </script>
  </body>
</html>
